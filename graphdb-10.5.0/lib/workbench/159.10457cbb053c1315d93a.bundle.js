(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{211:function(t,r,o){"use strict";o.r(r);o(7);angular.module("graphdb.framework.stats",["toastr"]).controller("AdminInfoCtrl",["$scope","$http","toastr","$timeout","$jwtAuth","$translate","AuthTokenService",function(t,r,o,e,n,s,c){r.get("rest/info/data").success((function(r){t.info=r})).error((function(t){const r=getError(t);o.error(r,s.instant("common.error"))})),t.getReportStatus=function(){r.get("rest/report/status").success((function(r){const o=r.split("|",3);t.status=o[0],t.timestamp=o[1],t.errorMessage=o[2],"IN_PROGRESS"===t.status&&e(t.getReportStatus,3e3)})).error((function(t){const r=getError(t);o.error(r,s.instant("common.error"))}))},t.getReportStatus(),t.getReport=function(){let t="rest/report";n.isAuthenticated()&&(t=t+"?authToken="+encodeURIComponent(c.getAuthToken())),window.open(t)},t.makeReport=function(){r.post("rest/report").success((function(){t.status="IN_PROGRESS",e(t.getReportStatus,2e3)})).error((function(t){const r=getError(t);o.error(r,s.instant("common.error"))}))}}])}}]);