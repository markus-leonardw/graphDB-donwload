(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{103:function(e,o,t){"use strict";t.r(o);t(10);function r(e,o,t,r,a,i,c,s,n,d,l,p,u){e.predicatesObj={},e.predicatesQueryObj={},e.predicatesObj.items=[],e.predicatesQueryObj.query="",e.predicatesListNotFiltered=[],e.predicatesSearchPlaceholder="Search predicates",e.onopen=e.onclose=()=>angular.noop();const g={};let m=0,b=0;t.key="",g.get=function(o,t,r){return d.initLazyList(o,t,r,m,e.predicatesObj.items)},t.$watch((function(){return t.key}),(function(){m=0,_.each(e.predicatesObj.items,(function(e){t.key>e&&m++})),b++})),g.revision=function(){return b},e.adapterContainer={adapter:{remain:!0}};const h=c.get(s.DOMAIN_RANGE_COLLAPSE_EDGES);function f(){const e=c.get(s.CLASS_HIERARCHY_LAST_SELECTED_CLASS);o.search("").hash(e).path("hierarchy")}e.collapseEdges=null===h||"true"===h,e.datasource=g,e.$on("reloadDomainRangeGraphView",(function(e,t){const r=t.objectPropClassUri,a=t.objectPropClassName;o.path("domain-range-graph").search("uri",r).search("name",a)})),e.$on("switchEdgeMode",(function(e,t){o.path("domain-range-graph").search("uri",t.uri).search("name",t.name).search("collapsed",t.collapsed)})),e.$on("repositoryIsSet",(function(){if(C===a.getActiveRepository())return;C=a.getActiveRepository();f()})),e.$on("changeCollapsedEdgesState",(function(o,t){e.collapseEdges=!t,c.set(s.DOMAIN_RANGE_COLLAPSE_EDGES,e.collapseEdges)})),e.goToClassHierarchyView=f,e.copyToClipboard=function(e){l.openCopyToClipboardModal(e)},e.toggleCollapseEdgesState=function(){e.collapseEdges=!e.collapseEdges,i.history.pushState({collapsed:e.collapseEdges},"domainRangePage",null)},e.predicatesListFilterFunc=function(o){return o.resolvedUri.toLowerCase().indexOf(e.predicatesQueryObj.query.toLowerCase())>=0},e.$watch("predicatesObj.items",(function(){e.predicatesObj.items>0&&r((function(){e.adapterContainer.adapter.reload()}),30)})),e.$watch("selectedPredicate",(function(){e.showPredicatesInfoPanel&&function(o){const t=o.target,r=o.source;e.encodedUri=encodeURIComponent(o.uri),e.sourceTargetObjectNodeUri=t.objectPropClassUri?t.objectPropClassUri:r.objectPropClassUri,e.encodedSourceTargetObjectNodeUri=encodeURIComponent(e.sourceTargetObjectNodeUri),e.sourceTargetObjectNodeName=t.objectPropClassName?t.objectPropClassName:r.objectPropClassName?r.objectPropClassName:"<i>Literal</i>",-1===e.sourceTargetObjectNodeName.indexOf("Literal")?n.getRdfsLabelAndComment(e.sourceTargetObjectNodeUri).success((function(o){e.rdfsLabel=o.label,e.rdfsComment=o.comment})).error((function(){p.error(u.instant("domain.range.error.get.label.comment"))})):(e.rdfsComment=void 0,e.rdfsLabel=void 0);e.predicatesObj.items=[],e.predicatesQueryObj.query="";const a=t.allEdges?t.allEdges:r.allEdges;_.each(a,(function(o){const t={};t.absUri=encodeURIComponent(o.uri),t.absUriNonEncoded=o.uri,t.resolvedUri=o.name,t.isImplicit=o.implicit,e.predicatesObj.items.push(t)})),e.predicatesListNotFiltered=e.predicatesObj.items}(e.selectedPredicate)})),$(document).ready((function(){$(".compact-mode-toggle").click((function(){$(".tooltip").hide()}))}));let C=a.getActiveRepository()}angular.module("graphdb.framework.graphexplore.controllers.domainrange",["ui.scroll.jqlite","ui.scroll","ngSanitize","graphdb.framework.utils.localstorageadapter"]).controller("DomainRangeGraphCtlr",r),r.$inject=["$scope","$location","$rootScope","$timeout","$repositories","$window","LocalStorageAdapter","LSKeys","GraphDataRestService","UiScrollService","ModalService","toastr","$translate"]}}]);